{
  "_args": [
    [
      {
        "raw": "react-side-effect@^1.1.0",
        "scope": null,
        "escapedName": "react-side-effect",
        "name": "react-side-effect",
        "rawSpec": "^1.1.0",
        "spec": ">=1.1.0 <2.0.0",
        "type": "range"
      },
      "/Users/Evro/Documents/Career/evro-io/evro-web-live/nextjs/evro-heroku-stage/frontend/node_modules/react-helmet"
    ]
  ],
  "_from": "react-side-effect@^1.1.0",
  "_hasShrinkwrap": false,
  "_id": "react-side-effect@1.2.0",
  "_location": "/react-side-effect",
  "_nodeVersion": "10.16.3",
  "_npmOperationalInternal": {
    "host": "s3://npm-registry-packages",
    "tmp": "tmp/react-side-effect_1.2.0_1567029698598_0.9152016337648985"
  },
  "_npmUser": {
    "name": "lourd",
    "email": "louis.descioli@gmail.com"
  },
  "_npmVersion": "6.9.0",
  "_phantomChildren": {},
  "_requested": {
    "raw": "react-side-effect@^1.1.0",
    "scope": null,
    "escapedName": "react-side-effect",
    "name": "react-side-effect",
    "rawSpec": "^1.1.0",
    "spec": ">=1.1.0 <2.0.0",
    "type": "range"
  },
  "_requiredBy": [
    "/react-helmet"
  ],
  "_resolved": "https://registry.npmjs.org/react-side-effect/-/react-side-effect-1.2.0.tgz",
  "_shasum": "0e940c78faba0c73b9b0eba9cd3dda8dfb7e7dae",
  "_shrinkwrap": null,
  "_spec": "react-side-effect@^1.1.0",
  "_where": "/Users/Evro/Documents/Career/evro-io/evro-web-live/nextjs/evro-heroku-stage/frontend/node_modules/react-helmet",
  "author": {
    "name": "Dan Abramov",
    "email": "dan.abramov@me.com",
    "url": "http://github.com/gaearon"
  },
  "bugs": {
    "url": "https://github.com/gaearon/react-side-effect/issues"
  },
  "contributors": [
    {
      "name": "Louis DeScioli",
      "url": "https://descioli.design"
    }
  ],
  "dependencies": {
    "shallowequal": "^1.0.1"
  },
  "description": "Create components whose prop changes map to a global side effect",
  "devDependencies": {
    "@babel/cli": "7.0.0",
    "@babel/core": "7.0.0",
    "@babel/node": "7.0.0",
    "@babel/plugin-proposal-class-properties": "7.0.0",
    "@babel/plugin-proposal-object-rest-spread": "7.0.0",
    "@babel/preset-env": "7.0.0",
    "@babel/preset-react": "7.0.0",
    "@babel/register": "7.0.0",
    "babel-plugin-add-module-exports": "^0.2.1",
    "chai": "^3.2.0",
    "enzyme": "^2.7.0",
    "gzip-size": "^4.1.0",
    "isparta": "^4.0.0",
    "jsdom": "^9.9.1",
    "mocha": "^3.2.0",
    "pretty-bytes": "^4.0.2",
    "react": "^15.4.2",
    "react-addons-test-utils": "^15.4.2",
    "react-dom": "^15.4.2",
    "rimraf": "^2.4.3",
    "rollup": "^1.20.3",
    "rollup-plugin-babel": "^4.0.0",
    "rollup-plugin-commonjs": "^8.3.0",
    "rollup-plugin-node-resolve": "^3.0.3",
    "rollup-plugin-uglify": "^3.0.0"
  },
  "directories": {},
  "dist": {
    "integrity": "sha512-v1ht1aHg5k/thv56DRcjw+WtojuuDHFUgGfc+bFHOWsF4ZK6C2V57DO0Or0GPsg6+LSTE0M6Ry/gfzhzSwbc5w==",
    "shasum": "0e940c78faba0c73b9b0eba9cd3dda8dfb7e7dae",
    "tarball": "https://registry.npmjs.org/react-side-effect/-/react-side-effect-1.2.0.tgz",
    "fileCount": 7,
    "unpackedSize": 22806,
    "npm-signature": "-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJdZvnDCRA9TVsSAnZWagAAG2kP/iKx1UXe6zZw0ltfRXjY\n5qVQF+0jRj5zLbKmygFPeWZoG4NRW291EL+Gkr7d66C83AgDrPcliesN2tUW\niRu/JIxxOBEuHThEQBfbOX5GHhWUy3W2oA9f50FKc1TfDUYNQWqReNTFNfSi\n71xAWSAx7jDuhV9r3SbD+4X3IkS+rp9TTfGStSnEnjVayoTGptNqOhiNvbLz\nei4xTGBduVRsSFM7W659FQtysMNAcwS2mCf17FVa35SanmFzdGMGlt+qCWj5\nlXXvyVeKYVvXqAcT4VNW/uXENL4QB+Ro5Y7dRo8TQAp734kMV0Ns7QRM2beX\nKX7lO2TrYBymEliNqOOWy9hRCEeEBlKNJv7yRMBHsA7ZOuaqjqaejNX9nHXV\nb9JuDX8oUgH1MIjdWwTBjo3bHESt5m/tTJUyVunt0rpdVLxB5c8rT/oDcplj\nb9xXf4n7QreCC/9YMmGAUt2q07MQRXEjjeN/w56ZJmJfz0KxxxDvfxPb66vr\nY6kcQ0+tEQIuXCMuZu8Fwg8MjHrrmp3AANiND6zggGwpDOhN3sAIKZ2lpeF0\nAF0lbx8e3raVVmMGHuF9G2J9Xyu3GUzLXvrUt3nMR3SaztOHvXWjuxq/I6Tg\nL1TNaeU0rhmqN+W/Zz1Tfwly/8qkK/S9vNNvoS2/kX0UEioMwjTy+4vLCREm\nU6ks\r\n=xPtV\r\n-----END PGP SIGNATURE-----\r\n"
  },
  "files": [
    "LICENSE",
    "README.md",
    "lib/"
  ],
  "gitHead": "c913e1b02876b0788d48e026d47a4d4d973ff846",
  "homepage": "https://github.com/gaearon/react-side-effect",
  "keywords": [
    "react",
    "component",
    "side",
    "effect"
  ],
  "license": "MIT",
  "main": "lib/index.js",
  "maintainers": [
    {
      "name": "gaearon",
      "email": "dan.abramov@gmail.com"
    },
    {
      "name": "lourd",
      "email": "louis@grovelabs.io"
    }
  ],
  "name": "react-side-effect",
  "optionalDependencies": {},
  "peerDependencies": {
    "react": "^0.13.0 || ^0.14.0 || ^15.0.0 || ^16.0.0"
  },
  "readme": "# React Side Effect [![Downloads](https://img.shields.io/npm/dm/react-side-effect.svg)](https://npmjs.com/react-side-effect) [![npm version](https://img.shields.io/npm/v/react-side-effect.svg?style=flat)](https://www.npmjs.com/package/react-side-effect)\n\nCreate components whose prop changes map to a global side effect.\n\n## Installation\n\n```\nnpm install --save react-side-effect\n```\n\n### As a script tag\n\n#### Development\n\n```html\n<script src=\"https://unpkg.com/react/umd/react.development.js\" type=\"text/javascript\"></script>\n<script src=\"https://unpkg.com/react-side-effect/lib/index.umd.js\" type=\"text/javascript\"></script>\n```\n\n#### Production\n\n```html\n<script src=\"https://unpkg.com/react/umd/react.production.min.js\" type=\"text/javascript\"></script>\n<script src=\"https://unpkg.com/react-side-effect/lib/index.umd.min.js\" type=\"text/javascript\"></script>\n```\n\n## Use Cases\n\n* Setting `document.body.style.margin` or background color depending on current screen;\n* Firing Flux actions using declarative API depending on current screen;\n* Some crazy stuff I haven't thought about.\n\n## How's That Different from `componentDidUpdate`?\n\nIt gathers current props across *the whole tree* before passing them to side effect. For example, this allows you to create `<BodyStyle style>` component like this:\n\n```jsx\n// RootComponent.js\nreturn (\n  <BodyStyle style={{ backgroundColor: 'red' }}>\n    {this.state.something ? <SomeComponent /> : <OtherComponent />}\n  </BodyStyle>\n);\n\n// SomeComponent.js\nreturn (\n  <BodyStyle style={{ backgroundColor: this.state.color }}>\n    <div>Choose color: <input valueLink={this.linkState('color')} /></div>\n  </BodyStyle>\n);\n```\n\nand let the effect handler merge `style` from different level of nesting with innermost winning:\n\n```js\nimport { Component, Children } from 'react';\nimport PropTypes from 'prop-types';\nimport withSideEffect from 'react-side-effect';\n\nclass BodyStyle extends Component {\n  render() {\n    return Children.only(this.props.children);\n  }\n}\n\nBodyStyle.propTypes = {\n  style: PropTypes.object.isRequired\n};\n\nfunction reducePropsToState(propsList) {\n  var style = {};\n  propsList.forEach(function (props) {\n    Object.assign(style, props.style);\n  });\n  return style;\n}\n\nfunction handleStateChangeOnClient(style) {\n  Object.assign(document.body.style, style);\n}\n\nexport default withSideEffect(\n  reducePropsToState,\n  handleStateChangeOnClient\n)(BodyStyle);\n```\n\nOn the server, you’ll be able to call `BodyStyle.peek()` to get the current state, and `BodyStyle.rewind()` to reset for each next request. The `handleStateChangeOnClient` will only be called on the client.\n\n## API\n\n#### `withSideEffect: (reducePropsToState, handleStateChangeOnClient, [mapStateOnServer]) -> ReactComponent -> ReactComponent`\n\nA [higher-order component](https://medium.com/@dan_abramov/mixins-are-dead-long-live-higher-order-components-94a0d2f9e750) that, when mounting, unmounting or receiving new props, calls `reducePropsToState` with `props` of **each mounted instance**. It is up to you to return some state aggregated from these props.\n\nOn the client, every time the returned component is (un)mounted or its props change, `reducePropsToState` will be called, and the recalculated state will be passed to `handleStateChangeOnClient` where you may use it to trigger a side effect.\n\nOn the server, `handleStateChangeOnClient` will not be called. You will still be able to call the static `rewind()` method on the returned component class to retrieve the current state after a `renderToString()` call. If you forget to call `rewind()` right after `renderToString()`, the internal instance stack will keep growing, resulting in a memory leak and incorrect information. You must call `rewind()` after every `renderToString()` call on the server.\n\nFor testing, you may use a static `peek()` method available on the returned component. It lets you get the current state without resetting the mounted instance stack. Don’t use it for anything other than testing.\n\n## Usage\n\nHere's how to implement [React Document Title](https://github.com/gaearon/react-document-title) (both client and server side) using React Side Effect:\n\n```js\nimport React, { Children, Component } from 'react';\nimport PropTypes from 'prop-types';\nimport withSideEffect from 'react-side-effect';\n\nclass DocumentTitle extends Component {\n  render() {\n    if (this.props.children) {\n      return Children.only(this.props.children);\n    } else {\n      return null;\n    }\n  }\n}\n\nDocumentTitle.propTypes = {\n  title: PropTypes.string.isRequired\n};\n\nfunction reducePropsToState(propsList) {\n  var innermostProps = propsList[propsList.length - 1];\n  if (innermostProps) {\n    return innermostProps.title;\n  }\n}\n\nfunction handleStateChangeOnClient(title) {\n  document.title = title || '';\n}\n\nexport default withSideEffect(\n  reducePropsToState,\n  handleStateChangeOnClient\n)(DocumentTitle);\n```\n",
  "readmeFilename": "README.md",
  "repository": {
    "type": "git",
    "url": "git+https://github.com/gaearon/react-side-effect.git"
  },
  "scripts": {
    "build": "node scripts/build.js",
    "clean": "rimraf lib",
    "prepare": "npm test && npm run clean && npm run build",
    "test": "mocha",
    "test:cov": "babel-node ./node_modules/.bin/isparta cover ./node_modules/.bin/_mocha",
    "test:watch": "mocha --watch"
  },
  "version": "1.2.0"
}
